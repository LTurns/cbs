(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{586:function(e,t,r){"use strict";r.r(t);r(35),r(20),r(30),r(48),r(37),r(54),r(38);var n=r(25);r(8),r(49),r(185),r(89);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){d=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(d)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var l={props:{id:{required:!0,default:null,type:String}},data:function(){return{blog:[],blogs:[],errorMessages:[],heading:"",subheading:"",description:"",info:"",categories:[],image:"",img:[],formHasErrors:!1,imageHeading:["image",""],items:["Fibre Blowing","Klein Tools","Utilities","Telecoms"],category:""}},watch:{name:function(){this.errorMessages=[]}},created:function(){this.getBlog(),this.getAllBlogs()},methods:{getAllBlogs:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Access-Control-Allow-Origin":"*"}},t.prev=1,t.next=4,e.$axios.get("https://cbsbackend.herokuapp.com/api/blogs",r);case 4:n=t.sent,c=o(n.data);try{for(c.s();!(l=c.n()).done;)d=l.value,e.blogs.push(d.heading)}catch(e){c.e(e)}finally{c.f()}return t.abrupt("return",e.blogs);case 10:throw t.prev=10,t.t0=t.catch(1),new Error("Error Fetching Products");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},addCategory:function(){this.categories=this.category},getBlog:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Access-Control-Allow-Origin":"*"}},t.prev=1,t.next=4,e.$axios.get("https://cbsbackend.herokuapp.com/api/blogs/".concat(e.id),r);case 4:return n=t.sent,e.blog.push(n.data),e.heading=e.blog[0].heading,e.subheading=e.blog[0].subheading,e.info=e.blog[0].info,e.categories=e.blog[0].categories,e.description=e.blog[0].description,e.img=e.blog[0].img,t.abrupt("return",e.blog);case 15:throw t.prev=15,t.t0=t.catch(1),new Error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},saveBlog:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var data,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data={user:e.$auth.user,heading:e.heading,subheading:e.subheading,description:e.description,img:e.img,categories:e.categories,info:e.info},r={headers:{"Access-Control-Allow-Origin":"*"}},t.prev=2,t.next=5,e.$axios.put("https://cbsbackend.herokuapp.com/api/blogs/".concat(e.blog[0]._id),data,r);case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(2),new Error("Error updating product");case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))()},saveBlogImages:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var input,n,o,c,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return input=e.target.files[0],(n=new FormData).append("image",input),r.prev=3,o={headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}},r.next=7,t.$axios.post("https://cbsbackend.herokuapp.com/api/upload/",n,o.headers);case 7:c=r.sent,data=c.data,t.image=data,t.img.push({image:t.image}),r.next=16;break;case 13:throw r.prev=13,r.t0=r.catch(3),new Error(r.t0);case 16:case"end":return r.stop()}}),r,null,[[3,13]])})))()},deleteBlogImage:function(e){this.img.splice(e,1)}}},d=r(41),h=r(47),f=r.n(h),m=r(142),v=r(484),w=r(495),y=r(485),k=r(666),x=r(491),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("v-container",{staticClass:"mt-10 pt-10 mb-10 pb-10"},[r("form",[r("v-row",{staticClass:"mb-n6"},[r("v-col",[r("v-textarea",{attrs:{value:e.heading,label:"heading",dense:"","auto-grow":"",outlined:"",required:""},on:{input:function(t){e.heading=t}}}),e._v(" "),r("v-textarea",{attrs:{label:"subheading",value:e.subheading,dense:"","auto-grow":"",outlined:"",required:""},on:{input:function(t){e.subheading=t}}}),e._v(" "),r("v-col",[r("v-select",{attrs:{items:e.items,attach:"",label:"Select Categories",multiple:"",chips:""},on:{change:e.addCategory},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1),e._v(" "),e._l(e.description,(function(t,n){return r("div",{key:t.id},[r("v-textarea",{attrs:{label:"paragraph",dense:"",value:t.paragraph,"auto-grow":"",outlined:"",rows:"8","row-height":"20"},on:{input:function(t){e.description[n].paragraph=t}}})],1)})),e._v(" "),r("form",{attrs:{align:"center"}},[r("div",{staticClass:"form-group"},[r("v-btn",[r("input",{attrs:{type:"file",accept:"image/*"},on:{change:e.saveBlogImages}})]),r("br"),r("br"),e._v(" "),r("div",[r("table",[r("thead",e._l(e.imageHeading,(function(t,n){return r("th",{key:t[n],attrs:{"align-center":""}},[e._v("\n                      "+e._s(t)+"\n                    ")])})),0),e._v(" "),r("tbody",e._l(e.img,(function(t,n){return r("tr",{key:t.image},[r("td",[r("img",{staticClass:"img-fluid",attrs:{src:t.image,height:"50px",width:"auto"}})]),e._v(" "),r("td",[r("v-btn",{staticClass:"btn orange lighten-2",attrs:{dark:""},on:{click:function(t){return e.deleteBlogImage(n)}}},[e._v("\n                          X\n                        ")])],1)])})),0)])])],1)])],2)],1),e._v(" "),r("v-row",[r("v-col",[r("v-btn",{staticClass:"my-2",attrs:{color:"primary"},on:{click:function(t){return e.saveBlog()}}},[e._v("SAVE")])],1)],1)],1)])],1)}),[],!1,null,null,null);t.default=component.exports;f()(component,{VBtn:m.a,VCol:v.a,VContainer:w.a,VRow:y.a,VSelect:k.a,VTextarea:x.a})}}]);